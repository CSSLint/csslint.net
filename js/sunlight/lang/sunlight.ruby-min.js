(function(a,b){if(a===b||a.registerLanguage===b){throw"Include sunlight.js before including language files";}a.registerLanguage("ruby",{keywords:["BEGIN","END","__ENCODING__","__END__","__FILE__","__LINE__","alias","and","begin","break","case","class","def","defined?","do","else","elsif","end","ensure","false","for","if","in","module","next","nil","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield"],customTokens:{"function":{values:["Array","Float","Integer","String","at_exit","autoload","binding","caller","catch","chop!","chop","chomp!","chomp","eval","exec","exit!","exit","fail","fork","format","gets","global_variables","gsub!","gsub","iterator?","lambda","load","local_variables","loop","open","p","print","printf","proc","putc","puts","raise","rand","readline","readlines","require","select","sleep","split","sprintf","srand","sub!","sub","syscall","system","test","trace_var","trap","untrace_var"],boundary:"\\W"},specialOperator:{values:["defined?","eql?","equal?"],boundary:"\\W"}},customParseRules:[function(d){var i,h="/",c=d.reader.getLine(),f=d.reader.getColumn(),g,e;if(d.reader.current()!=="/"){return null;}i=function(){var k=d.token(d.count()-1),j=null;if(d.defaultData.text!==""){j=d.createToken("default",d.defaultData.text);}if(!j){j=k;}if(j===b){return true;}if(j.name==="default"&&j.value.indexOf("\n")>-1){return true;}if(a.util.contains(["keyword","ident","number"],k.name)){return false;}if(k.name==="punctuation"&&!a.util.contains(["(","{","[",","],k.value)){return false;}return true;}();if(!i){return null;}while(d.reader.peek()!==d.reader.EOF){g=d.reader.peek(2);if(g==="\\/"||g==="\\\\"){h+=d.reader.read(2);continue;}h+=(e=d.reader.read());if(e==="/"){break;}}while(d.reader.peek()!==d.reader.EOF){if(!/[A-Za-z]/.test(d.reader.peek())){break;}h+=d.reader.read();}return d.createToken("regexLiteral",h,c,f);},function(e){var d,c=e.count(),h=0,g=c-1,f,i;if(e.reader.current()!==":"||!/[a-zA-Z_]/.test(e.reader.peek())){return null;}while(d=e.token(--c)){if(d.name==="operator"){if(h===0){if(d.value==="?"&&c<g){return null;}else{if(d.value===":"){break;}}}}else{if(d.name==="punctuation"){switch(d.value){case"(":h--;break;case")":h++;break;}}else{if(d.name==="default"&&/\n/.test(d.value)){f=e.token(c-1);if(f&&(f.name==="operator"||(f.name==="punctuation"&&f.value===","))){continue;}break;}}}}i=/^:\w+/.exec(e.reader.substring())[0];d=e.createToken("symbol",i,e.reader.getLine(),e.reader.getColumn());e.reader.read(i.length-1);return d;},function(e){var c,l=e.reader.getLine(),f=e.reader.getColumn(),j="<<",g="",i,d="",k,h;if(e.reader.current()!=="<"||!/<[\w'"`-]/.test(e.reader.peek(2))){return null;}c=e.token(e.count()-1);if(c&&a.util.contains(["number","string"],c.name)){return null;}e.reader.read(2);i=e.reader.current();if(i==="-"){e.reader.read();j+=i;g+=i;i=e.reader.current();}if(a.util.contains(['"',"'","`"],i)){d=i;}else{g+=i;}j+=i;while((k=e.reader.peek())!==e.reader.EOF){if(k==="\n"||(d===""&&/\W/.test(k))){break;}if(k==="\\"){h=e.reader.peek(2);if(d!==""&&a.util.contains(["\\"+d,"\\\\"],h)){j+=h;g+=e.reader.read(2);continue;}}j+=e.reader.read();if(d!==""&&k===d){break;}g+=k;}e.items.heredocQueue.push(g);return e.createToken("heredocDeclaration",j,l,f);},function(c){var g=[],d,k,e,j=c.reader.current(),h=false,i,f;if(c.items.heredocQueue.length===0){return null;}if(c.defaultData.text.replace(/[^\n]/g,"").length===0){return null;}while(c.items.heredocQueue.length>0&&c.reader.peek()!==c.reader.EOF){d=c.items.heredocQueue.shift();if(d.charAt(0)==="-"){d=d.substring(1);h=true;}k=c.reader.getLine(),e=c.reader.getColumn();i=new RegExp("^\\n"+(h?"[ \\t]*":"")+a.util.regexEscape(d)+"\\n");while(c.reader.peek()!==c.reader.EOF){f=i.exec(c.reader.peekSubstring());if(f!==null){j+=c.reader.read(f[0].length);break;}j+=c.reader.read();}g.push(c.createToken("heredoc",j,k,e));j="";}return g.length>0?g:null;},function(f){var i="%",h=1,j=false,e,c=f.reader.getLine(),g=f.reader.getColumn(),d;if(f.reader.current()!=="%"){return null;}e=f.reader.peek();if(e==="q"||e==="Q"||e==="r"){h++;if(e==="r"){j=true;}}if(/[A-Za-z0-9=]$/.test(f.reader.peek(h))){return null;}i+=f.reader.read(h);d=i.charAt(i.length-1);switch(d){case"(":d=")";break;case"[":d="]";break;case"{":d="}";break;}while((e=f.reader.peek())!==f.reader.EOF){if(e==="\\"&&a.util.contains(["\\"+d,"\\\\"],f.reader.peek(2))){i+=f.reader.read(2);continue;}i+=f.reader.read();if(e===d){break;}}if(j){while(f.reader.peek()!==f.reader.EOF){if(!/[A-Za-z]/.test(f.reader.peek())){break;}i+=f.reader.read();}}return f.createToken(j?"regexLiteral":"rawString",i,c,g);},function(f){var h="=begin",d=f.reader.getLine(),g=f.reader.getColumn(),c=false,e;if(!f.reader.isSol()||f.reader.current()!=="="||f.reader.peek(5)!=="begin"){return null;}f.reader.read(5);while((e=f.reader.peek())!==f.reader.EOF){if(!c&&f.reader.peek(5)==="\n=end"){c=true;h+=f.reader.read(5);continue;}if(c&&e==="\n"){break;}h+=f.reader.read();}return f.createToken("docComment",h,d,g);}],scopes:{string:[['"','"',a.util.escapeSequences.concat(['\\"'])],["'","'",["\\'","\\\\"]]],comment:[["#","\n",null,true]],subshellCommand:[["`","`",["\\`"]]],globalVariable:[["$",{length:1,regex:/[\W]/},null,true]],instanceVariable:[["@",{length:1,regex:/[\W]/},null,true]]},identFirstLetter:/[A-Za-z_]/,identAfterFirstLetter:/\w/,namedIdentRules:{follows:[[{token:"keyword",values:["class","def"]},a.util.whitespace],[{token:"keyword",values:["class"]},a.util.whitespace,{token:"ident"},a.util.whitespace,{token:"operator",values:["<","<<"]},a.util.whitespace]],precedes:[[a.util.whitespace,{token:"operator",values:["::"]}],[a.util.whitespace,{token:"operator",values:["."]},a.util.whitespace,{token:"ident",values:["new"]},a.util.whitespace,{token:"punctuation",values:["("]}]]},operators:["?","...","..",".","::",":","[]","+=","+","-=","-","**=","*=","**","*","/=","/","%=","%","&&=","&=","&&","&","||=","|=","||","|","^=","^","~","\\","<=>","<<=","<<","<=","<",">>=",">>",">=",">","!~","!=","!","=>","===","==","=~","="],contextItems:{heredocQueue:[]}});}(this["Sunlight"]));